"use strict";if($(".about").length>0){function applyParallaxEffect(e,t){var o=$(e.$slides[t]).find(".about-top__img img");$(".about-top__img img").off("mousemove"),o.on("mousemove",(function(e){var t=o[0].getBoundingClientRect(),r=e.clientX-t.left,a=e.clientY-t.top,i=100*(r/t.width-.5),s=100*(a/t.height-.5);gsap.to(o,{duration:.5,xPercent:.1*-i,yPercent:.1*-s,ease:"power1.out"})}))}$(".about-top").slick({dots:!1,slidesToShow:1,slidesToScroll:1,arrows:!1}),$(".about-top").on("afterChange",(function(e,t,o){applyParallaxEffect(t,o)})),applyParallaxEffect($(".about-top").slick("getSlick"),$(".about-top").slick("slickCurrentSlide")),$(".about-top").on("beforeChange",(function(e,t,o,r){$(".about__right-img, .about__coll, .about__left-box").removeClass("active"),$('[data-img="'+r+'"]').addClass("active"),$('[data-coll="'+r+'"]').addClass("active"),$('[data-tab="'+r+'"]').addClass("active")})),$(".about__right-img").on("click",(function(){var e=$(this).data("img");$(".about-top").slick("slickGoTo",e),$(".about__right-img, .about__coll, .about__left-box").removeClass("active"),$(this).addClass("active"),$('[data-coll="'+e+'"]').addClass("active"),$('[data-tab="'+e+'"]').addClass("active")})),$(".about__coll").on("click",(function(){var e=$(this).data("coll");$(".about-top").slick("slickGoTo",e),$(".about__right-img, .about__coll, .about__left-box").removeClass("active"),$(this).addClass("active"),$('[data-img="'+e+'"]').addClass("active"),$('[data-tab="'+e+'"]').addClass("active")}))}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}if(document.querySelectorAll(".benefits__body").length){gsap.registerPlugin(ScrollTrigger);var serviceCards=gsap.utils.toArray(".benefits__body"),delay=30,scale=.8,maxHeight=Math.max.apply(Math,_toConsumableArray(Array.from(serviceCards).map((function(e){return e.offsetHeight}))));serviceCards.forEach((function(e){return e.style.height=maxHeight+"px"}));var distributeOptions=gsap.utils.distribute({base:scale,amount:.2});function applyAnimation(e,t){var o=e.offsetHeight,r=distributeOptions(t,e,serviceCards);gsap.to(e,{scrollTrigger:{trigger:e,start:"top top",scrub:!0,invalidateOnRefresh:!0},ease:"none",scale:r}),ScrollTrigger.create({trigger:e,start:"top-=".concat(t*delay," top"),endTrigger:".benefits__wrap",end:"bottom top+=".concat(o+serviceCards.length*delay),pin:!0,pinSpacing:!1,id:"pin",invalidateOnRefresh:!0})}serviceCards.forEach((function(e,t){applyAnimation(e,t)}))}gsap.from(".benefits",{scrollTrigger:{trigger:".benefits",start:"-10%",end:"top"},ease:"sine.out"}),document.querySelectorAll(".card__swiper").forEach((function(e){new Swiper(e,{slidesPerView:1,spaceBetween:0,slidesPerGroup:1,pagination:{el:e.querySelector(".swiper-pagination"),clickable:!0},navigation:{nextEl:e.querySelector(".card-arrow_next"),prevEl:e.querySelector(".card-arrow_prev")}})})),$("#map").length>0&&ymaps.ready((function(){if(window.innerWidth>760)var e=[43.588829,39.722729];else e=[43.588417,39.715749];var t=new ymaps.Map("map",{center:e,controls:["zoomControl"],zoom:16},{searchControlProvider:"yandex#search"}),o=new ymaps.Placemark([43.588417,39.715749],{hintContent:"Ривьера парк отель",balloonContent:""});t.behaviors.disable("scrollZoom"),t.geoObjects.add(o)}));var minWidth=1010;function rearrangeHeader(){var e=$(window).width(),t=$(".header__menu_first"),o=$(".header__last-resize"),r=$(".header__first-resize");e<=minWidth?t.insertBefore(o):t.insertBefore(r)}function scrollHeader(){$(window).scrollTop()>5?$(".header").addClass("fixed"):$(".header").removeClass("fixed")}function adjustFilterPosition(){if($(window).width()<760)$(".filter--fixed").css("top","").removeClass("under-header");else{var e=$(".filter--fixed");if(0!==e.length){var t=$(window).scrollTop(),o=$(".header").outerHeight(),r=e.data("startOffset");r||(r=e.offset().top,e.data("startOffset",r)),t+o>=r?e.css("top",o+"px").addClass("under-header"):e.css("top","").removeClass("under-header")}}}function onScrollOrResize(){scrollHeader(),adjustFilterPosition()}if($(window).on("resize",rearrangeHeader).trigger("resize"),$(".header__burger").on("click",(function(e){$(this).toggleClass("active"),$(".header").toggleClass("active"),$("body").toggleClass("lock"),$(".header__last").toggleClass("active")})),$('[href="/index/#reviews"]').on("click",(function(){$(".header").removeClass("active"),$("body").removeClass("lock"),$(".header__last").removeClass("active"),setTimeout((function(){var e=$(this).attr("href"),t=$(e).offset().top;return jQuery("html:not(:animated),body:not(:animated)").animate({scrollTop:t},600),!1}),300)})),$(document).ready((function(){scrollHeader(),adjustFilterPosition(),$(window).scroll(onScrollOrResize),$(window).resize(onScrollOrResize)})),$(".info").length>0&&Splitting(),$(".main-info").length>0&&($(".main-info-big").slick({dots:!1,slidesToShow:1,slidesToScroll:1,arrows:!1,infinite:!0,fade:!0,asNavFor:".main-info-small",autoplay:!0,autoplaySpeed:3e3}),$(".main-info-small").slick({slidesToShow:4,slidesToScroll:1,asNavFor:".main-info-big",arrows:!1,dots:!1,infinite:!0,focusOnSelect:!0,autoplay:!0,autoplaySpeed:3e3})),$(".callback--js").on("click",(function(e){e.preventDefault(),$.fancybox.open({loop:!1,src:"#callback-modal",baseClass:"dark-fancybox",touch:!1,autoFocus:!1}),$(".phone-mask").mask("+7 (999)999-99-99")})),$(".product").length>0){$(".product-top__slick").slick({dots:!1,slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".product-top__swiper"}),$(".product-top__swiper").slick({slidesToShow:7,slidesToScroll:1,asNavFor:".product-top__slick",arrows:!1,dots:!1,infinite:!0,focusOnSelect:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:5}},{breakpoint:1010,settings:{slidesToShow:7}},{breakpoint:760,settings:{vertical:!1,verticalSwiping:!1,slidesToShow:4}},{breakpoint:480,settings:{vertical:!1,verticalSwiping:!1,slidesToShow:3}},{breakpoint:370,settings:{vertical:!1,verticalSwiping:!1,slidesToShow:2}}]}),$(".product-top__arrow_prev").on("click",(function(e){$(this).parents(".product-top").find(".product-top__slick").slick("slickPrev")})),$(".product-top__arrow_next").on("click",(function(e){$(this).parents(".product-top").find(".product-top__slick").slick("slickNext")}));var sticky=new Sticky(".sticky")}if($(".promo").length>0){var swiper=new Swiper(".promo-swiper",{slidesPerView:1,spaceBetween:0,effect:"fade",slideToClickedSlide:!0,normalizeSlideIndex:!0,mousewheel:{invert:!1,eventsTarget:".promo",releaseOnEdges:!0}});document.querySelector(".promo").addEventListener("wheel",(function(e){e.deltaY>0&&swiper.isEnd?swiper.mousewheel.disable():swiper.mousewheel.enable()}))}var recommendationsSwiper=new Swiper(".recommendations__swiper",{slidesPerView:4,spaceBetween:6,slidesPerGroup:1,loop:!0,speed:1e3,breakpoints:{370:{slidesPerView:1.2,slidesPerGroup:1,spaceBetween:6},680:{slidesPerView:2,slidesPerGroup:1},760:{slidesPerView:2.2,slidesPerGroup:1},1010:{slidesPerView:3,slidesPerGroup:1},1200:{slidesPerView:4,spaceBetween:6,slidesPerGroup:1}}}),recSwiper=new Swiper(".card__swiper-rec",{slidesPerView:1,spaceBetween:0,slidesPerGroup:1,mousewheel:!1,keyboard:!0,pagination:{el:".card__swiper-rec .swiper-pagination",clickable:!0}});$(".reviews-video").fancybox({touch:!1,arrows:!1,infobar:!1,loop:!1,buttons:["close"]}),$(document).ready((function(){var e,t=$(".what_watch_layer_2"),o=$(".what_video_block"),r=0,a=!1;$(".what_watch").mousemove((function(a){var i=$(this).offset(),s=i.left.toFixed(0),n=i.top.toFixed(0),l=a.pageX-s,c=a.pageY-n;r<.12&&(r+=.002);var d=1+r,p=1-r;t.css("clip-path","circle(155px at "+l+"px "+c+"px)"),o.css("transform","translate("+(l-155)+"px, "+(c-155)+"px) scale("+d+", "+p+")"),clearTimeout(e),e=setTimeout((function(){r=0,o.css("transform","translate("+(l-155)+"px, "+(c-155)+"px) scale(1, 1)")}),100)})),$(".what_watch_link_item").hover((function(){var e=$(this).attr("data-id"),t=$(".js_what_video_item_"+e);$(".what_video_item").hide(),t.show()}),(function(){})),$(".what_watch_links").hover((function(){a||(a=!0,o.css("opacity",1),o.css("visibility","visible"))}),(function(){a&&(a=!1,o.css("opacity",0),o.css("visibility","hidden"))})),$(".what_watch_links").hover((function(){t.css("opacity",1)}),(function(){t.css("opacity",0)}))}));